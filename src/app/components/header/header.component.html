<div class="hidden md:block sticky top-0 z-50 bg-white shadow-md">
  <div
   
    class="text-2xl capitalize flex justify-evenly items-center py-3 cursor-pointer"
  >
    <div class="flex items-center text-loginText font-[AbhayaLibreMedium]" (click)="goHome()" >
      <p class="text-3xl text-center font-ternaryText">Sportify</p>
      <img src="assets/icons/logo_yellow.svg" alt="" class="mt-2.5" />
    </div>

    <div class="bg-secondColor md:w-[50%] lg:w-[60%] relative rounded-md">
      <i class="fa-solid fa-magnifying-glass text-lg absolute left-3 top-4"></i>
      <input
        placeholder=" search for productes "
        class="p-1.5 lg:w-[100%] focus:bg-white rounded-sm pl-10"
      />
    </div>

    @if(token){

    <div class="flex gap-4 items-center">
      <!-- Favorite -->
      <a
        [routerLink]="['/fav']"
          routerLinkActive="active-icon"
        class="relative flex items-center justify-center w-[23px] h-[23px]"
      >
        <i
          class="fa-heart text-xl transition-all duration-300"
          [ngClass]="{
            'fa-solid text-red-600': favoriteItemCount > 0,
            'fa-regular text-ternaryText': favoriteItemCount === 0
          }"
        >
        </i>
        <span
          *ngIf="favoriteItemCount > 0"
          class="absolute -top-2 -right-3 w-5 h-5 bg-mainColor text-textColor text-xs flex items-center justify-center rounded-full border border-textColor z-[9999]"
        >
          {{ favoriteItemCount }}
        </span>
      </a>

      <!-- Cart -->
      <a
        [routerLink]="['/cart']"
        class="relative flex items-center justify-center w-[23px] h-[23px]"
      >
        <img src="assets/icons/cart.svg" class="w-[23px]" />
        <span
          [hidden]="cartItemCount === 0"
          class="absolute -top-3 -right-3 w-5 h-5 bg-mainColor text-textColor text-xs flex items-center justify-center rounded-full border border-textColor z-[9999]"
        >
          {{ cartItemCount }}
        </span>
      </a>

          <!-- Profile -->
    <a [routerLink]="'/profile'" routerLinkActive="active-icon" >
      <i class="fa-regular fa-user relative cursor-pointer text-ternaryText"></i>
    </a>

 
    </div>


    } @else {
    <div class="flex gap-2 items-center">
      <a [routerLink]="['/login']">
        <button
          class="bg-mainColor rounded-xl md:px-6 md:py-2 md:text-[1.2rem] md:fontInter cursor-pointer text-gray-900"
        >
          log in
        </button>
      </a>

      <a [routerLink]="['/signup']">
        <button
          class="bg-mainColor rounded-xl md:px-6 md:py-2 md:text-[1.2rem] md:fontInter cursor-pointer text-gray-900"
        >
          Sign up
        </button>
      </a>
    </div>
    }
  </div>



  <!-- اللينكات -->
  <ul
    class="text-lg bg-mainColor h-10 flex justify-center md:gap-6 gap-2 items-center py-7"
  >
    <li
      class="transition-all duration-300 hover:text-zinc-600 hover:scale-105 hover:underline underline-offset-4"
    >
      <a
        [routerLink]="['/home']"
        routerLinkActive="router-link-active"
        [routerLinkActiveOptions]="{ exact: true }"
        class="block"
      >
        home
      </a>
    </li>

    <li class="transition-all duration-300 hover:text-zinc-600 hover:scale-105 hover:underline underline-offset-4">


 <a
  [routerLink]="token ? ['/men'] : null"
  (click)="checkLoginBeforeNavigate('men', $event)"
  [ngClass]="{ 'router-link-active': isLinkActive('/men') }"
  class="cursor-pointer block"
>
  Men
</a>

    </li>

    <li
      class="transition-all duration-300 hover:text-zinc-600 hover:scale-105 hover:underline underline-offset-4"
    >
      <a
  [routerLink]="token ? ['/women'] : null"
  (click)="checkLoginBeforeNavigate('women', $event)"
  [ngClass]="{ 'router-link-active': isLinkActive('/women') }"
  class="cursor-pointer block"
>
  Women
</a>

    </li>

    <li class="transition-all duration-300 hover:text-zinc-600 hover:scale-105 hover:underline underline-offset-4">
    <a
  [routerLink]="token ? ['/equipment'] : null"
  (click)="checkLoginBeforeNavigate('equipment', $event)"
  [ngClass]="{ 'router-link-active': isLinkActive('/equipment') }"
  class="cursor-pointer block"
>
  Equipment
</a>

  </li>
   

  <li class="transition-all duration-300 hover:text-zinc-600 hover:scale-105 hover:underline underline-offset-4">
     <a
  [routerLink]="token ? ['/shoes'] : null"
  (click)="checkLoginBeforeNavigate('shoes', $event)"
  [ngClass]="{ 'router-link-active': isLinkActive('/shoes') }"
  class="cursor-pointer block"
>
  Shoes
</a>

  </li>

  <li class="transition-all duration-300 hover:text-zinc-600 hover:scale-105 hover:underline underline-offset-4">
    <a
  [routerLink]="token ? ['/supplements'] : null"
  (click)="checkLoginBeforeNavigate('supplements', $event)"
  [ngClass]="{ 'router-link-active': isLinkActive('/supplements') }"
  class="cursor-pointer block"
>
  Supplements
</a>

  </li>

  <li class="transition-all duration-300 hover:text-zinc-600 hover:scale-105 hover:underline underline-offset-4">
<a
  [routerLink]="token ? ['/allProduct'] : null"
  (click)="checkLoginBeforeNavigate('allProduct', $event)"
  [ngClass]="{ 'router-link-active': isLinkActive('/allProduct') }"
  class="cursor-pointer block"
>
  All Products
</a>

  </li>

    <li
      *ngIf="isAdmin()"
      class="transition-all duration-300 hover:text-zinc-600 hover:scale-105 hover:underline underline-offset-4"
    >
      <a
        [routerLink]="['/admin']"
        routerLinkActive="router-link-active"
        class="block"
      >
        Admin
      </a>
    </li>
  </ul>
</div>

<!-- for mobile -->
<div class="block md:hidden fixed z-50 w-[100%]">
  <div class="bg-mainColor flex justify-evenly items-center py-2 px-2">
    <i class="fa-solid fa-bars text-xl" (click)="toggel()"></i>
    <div class="relative w-[45%]">
      <input
        type="text "
        class="bg-white rounded-sm pl-7 pt-1 w-[100%] focus:outline-none"
        placeholder="search for product"
      />
      <i
        class="fa-solid fa-magnifying-glass text-md absolute left-1 top-2 font-ternaryText"
      ></i>
    </div>

    <div
      (click)="goHome()"
      class="text-2xl capitalize flex justify-evenly items-center py-3 cursor-pointer"
    >
      <p class="text-2xl text-center font-abhaya text-[#3F3F3F]">Sportify</p>
      <img src="assets/images/logo.svg" alt="" class="mt-2" />
    </div>
  </div>
</div>

<div
  class="bg-white fixed w-[50vw] h-[100vh] left-0- z-1000 top-10 pt-3 md:hidden"
  [ngClass]="show"
>
  <div class="flex justify-center items-center gap-1">
    <p class="text-2xl text-center font-abhaya text-gold">Sportify</p>
    <img src="assets/icons/logo_yellow.svg" alt="" class="mt-2" />
  </div>
  
   <ul class="flex flex-col gap-4 p-5">

    <li
      class="flex gap-4 hover:bg-mainColor p-2 rounded-md hover:text-black cursor-pointer"
      [routerLink]="['/home']"
      routerLinkActive="bg-mainColor text-black font-bold"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <img src="assets/icons/home.svg" />
      <p>home</p>
    </li>

    <li
      class="flex gap-5 hover:bg-mainColor p-2 rounded-md hover:text-black cursor-pointer"
      (click)="checkLoginBeforeNavigate('men', $event)"
    >
      <i class="fa-solid fa-person pt-1"></i>
      <p>men</p>
    </li>



    <li
      class="flex gap-4 hover:bg-mainColor p-2 rounded-md hover:text-black cursor-pointer"
      (click)="checkLoginBeforeNavigate('women', $event)"
    >
      <img src="assets/icons/women.svg" />
      <p>women</p>
    </li>

    <li
      class="flex gap-4 hover:bg-mainColor p-2 rounded-md hover:text-black cursor-pointer"
      (click)="checkLoginBeforeNavigate('equipment', $event)"
    >
      <img src="assets/icons/equ.svg" />
      <p>equipment</p>
    </li>

    <li
      class="flex gap-4 hover:bg-mainColor p-2 rounded-md hover:text-black cursor-pointer"
      (click)="checkLoginBeforeNavigate('shoes', $event)"
    >
      <img src="assets/icons/shoes.svg" />
      <p>shoes</p>
    </li>

    <li
      class="flex gap-4 hover:bg-mainColor p-2 rounded-md hover:text-black cursor-pointer"
      (click)="checkLoginBeforeNavigate('supplements', $event)"
    >
      <img src="assets/icons/sup.svg" />
      <p>supplements</p>
    </li>

     <li
      class="flex gap-4 hover:bg-mainColor p-2 rounded-md hover:text-black cursor-pointer"
      (click)="checkLoginBeforeNavigate('profile', $event)"
    >
      <img src="assets/icons/profile.svg" />
      <p>Profile</p>
    </li>
    @if(token){
    

 <!-- Favorite -->
<li
  class="flex gap-4 hover:bg-mainColor p-2 rounded-md hover:text-black cursor-pointer items-center"
  (click)="navigateTo('/fav')"
>
  <div class="relative flex items-center">
    <i
      class="fa-heart text-xl"
      [ngClass]="{
        'fa-solid text-red-600': favoriteItemCount > 0,
        'fa-regular text-black': favoriteItemCount === 0
      }"
    ></i>
    <span
      *ngIf="favoriteItemCount > 0"
      class="absolute -top-3 -right-4 bg-mainColor text-textColor text-xs w-5 h-5 flex items-center justify-center rounded-full border border-textColor z-[9999]"
    >
      {{ favoriteItemCount }}
    </span>
  </div>
  <p>Favorite</p>
</li>

<!-- Cart -->
<li
  class="flex gap-4 hover:bg-mainColor p-2 rounded-md hover:text-black cursor-pointer items-center"
  (click)="navigateTo('/cart')"
>
  <div class="relative">
    <img src="assets/icons/cart.svg" class="w-[23px]" />
    <span
      [hidden]="cartItemCount === 0"
      class="absolute -top-4 -right-3 w-5 h-5 bg-mainColor text-textColor text-xs flex items-center justify-center rounded-full border border-textColor z-[9999]"
    >
      {{ cartItemCount }}
    </span>
  </div>
  <p>Cart</p>
</li>

    <li
      class="flex gap-4 hover:bg-mainColor p-2 rounded-md hover:text-black items-center"
    >
      <i class="fa-solid fa-right-from-bracket text-xl text-secandaryText"></i>
      <p class="text-l cursor-pointer">Logout</p>
    </li>
    } @else{
    <li class="flex gap-2 items-center">
      <button class="bg-mainColor rounded-xl px-6 py-2 cursor-pointer text-gray-900">
        <a [routerLink]="['/login']">log in</a>
      </button>

      <button class="bg-mainColor rounded-xl px-6 py-2 cursor-pointer text-gray-900">
        <a [routerLink]="['/signup']">Sign up</a>
      </button>
    </li>
    }

  </ul>
</div>

<!-- Modal -->

<div
  *ngIf="showLoginPrompt"
  class="fixed inset-0 flex justify-center items-center backdrop-blur-sm z-[2000]"
>
  <div class="bg-white p-8 rounded-lg shadow-lg w-3/4 md:w-1/3 text-center">
    <h3 class="text-xl font-bold mb-4 text-[#454545]">you are not logged in</h3>
    <p class="mb-6">To continue shopping, please log in to your account.</p>
    <div class="flex justify-center gap-4">
      <button
        (click)="navigateToLogin()"
        class="px-4 py-2 bg-mainColor text-[#454545] font-semibold rounded-lg hover:bg-[#abb165] hover:text-black transition"
      >
        Yes, Login
      </button>
      <button
        (click)="showLoginPrompt = false"
        class="px-4 py-2 bg-gray-300 text-[#454545] font-semibold rounded-lg hover:bg-gray-400 transition"
      >
        No, Cancel
      </button>
    </div>
  </div>
</div>




 